/*
 * FullCalendar v1.3.1
 * http://arshaw.com/fullcalendar/
 *
 * Use fullcalendar.css for basic styling.
 * For event drag & drop, required jQuery UI draggable.
 * For event resizing, requires jQuery UI resizable.
 *
 * Copyright (c) 2009 Adam Shaw
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Date: 2009-09-14 20:40:05 -0700 (Mon, 14 Sep 2009)
 * Revision: 37
 */
(function(y){var D=y.fullCalendar={};var c=D.views={};var A={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},allDayDefault:true,startParam:"start",endParam:"end",cacheParam:"_",timeFormat:"h(:mm)t",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"}};var a={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;"}};var E=D.setDefaults=function(N){y.extend(true,A,N)};y.fn.fullCalendar=function(Q){if(typeof Q=="string"){var P=Array.prototype.slice.call(arguments,1),R;this.each(function(){var S=y.data(this,"fullCalendar")[Q].apply(this,P);if(R==j){R=S}});if(R!=j){return R}return this}var O=Q.eventSources||[];delete Q.eventSources;if(Q.events){O.push(Q.events);delete Q.event}O.unshift([]);Q=y.extend(true,{},A,(Q.isRTL||Q.isRTL==j&&A.isRTL)?a:{},Q);var N=Q.theme?"ui":"fc";this.each(function(){var af=this,U=y(this).addClass("fc"),ak=y("<div class='fc-content "+N+"-widget-content'/>").appendTo(this);if(Q.isRTL){U.addClass("fc-rtl")}if(Q.theme){U.addClass("ui-widget")}var aq=new Date(),ai,ad,ab,Z={};if(Q.year!=j){aq.setYear(Q.year)}if(Q.month!=j){aq.setMonth(Q.month)}if(Q.date!=j){aq.setDate(Q.date)}function au(av){if(av!=ai){ab=ad;if(Z[av]){(ad=Z[av]).element.show()}else{ad=Z[av]=y.fullCalendar.views[av](y("<div class='fc-view fc-view-"+av+"'/>").appendTo(ak),Q)}if(ab&&ab.eventsChanged){aj(ab);ab.eventsChanged=false}if(al){al.find("div.fc-button-"+ai).removeClass(N+"-state-active");al.find("div.fc-button-"+av).addClass(N+"-state-active")}ad.name=ai=av;at();if(ab){ab.element.hide()}}}function at(aw){if(af.offsetWidth!==0){if(aw||!ad.date||+ad.date!=+aq){ae=true;ad.render(aq,aw||0,function(ax){if(!V||ad.visStart<V||ad.visEnd>am){ac(ax)}else{ax(T)}});ae=false;ad.date=H(aq);if(al){var av=new Date();if(av>=ad.start&&av<ad.end){al.find("div.fc-button-today").addClass(N+"-state-disabled")}else{al.find("div.fc-button-today").removeClass(N+"-state-disabled")}}}else{if(ad.sizeDirty){ad.updateSize();ad.rerenderEvents()}else{if(ad.eventsDirty){ad.clearEvents();ad.renderEvents(T)}}}if(al){al.find("h2.fc-header-title").html(ad.title)}ad.sizeDirty=false;ad.eventsDirty=false;ad.trigger("viewDisplay",af)}}function aj(av){y.each(Z,function(){if(this!=av){this.eventsDirty=true}})}function ah(av){y.each(Z,function(){if(this!=av){this.sizeDirty=true}})}function W(){ad.clearEvents();ad.renderEvents(T);aj(ad)}var T=[],V,am;function ac(ay){T=[];V=H(ad.visStart);am=H(ad.visEnd);var ax=O.length,av=function(){if(--ax==0){if(ay){ay(T)}}},aw=0;for(;aw<O.length;aw++){X(O[aw],av)}}function X(aA,aB){var aw=ad.name,az=H(aq),ay=function(aC){if(aw==ad.name&&+az==+aq){for(var aD=0;aD<aC.length;aD++){x(aC[aD],Q);aC[aD].source=aA}T=T.concat(aC);if(aB){aB(aC)}}},av=function(aC){ay(aC);ar()};if(typeof aA=="string"){var ax={};ax[Q.startParam]=Math.round(V.getTime()/1000);ax[Q.endParam]=Math.round(am.getTime()/1000);ax[Q.cacheParam]=(new Date()).getTime();Y();y.getJSON(aA,ax,av)}else{if(y.isFunction(aA)){Y();aA(H(V),H(am),av)}else{ay(aA)}}}var an=0;function Y(){if(!an++){ad.trigger("loading",af,true)}}function ar(){if(!--an){ad.trigger("loading",af,false)}}var ap={render:at,changeView:au,prev:function(){at(-1)},next:function(){at(1)},today:function(){aq=new Date();at()},gotoDate:function(av,ax,aw){if(av!=j){aq.setYear(av)}if(ax!=j){aq.setMonth(ax)}if(aw!=j){aq.setDate(aw)}at()},incrementDate:function(aw,av,ax){if(aw!=j){M(aq,aw)}if(av!=j){l(aq,av)}if(ax!=j){v(aq,ax)}at()},updateEvent:function(az){var ax,av=T.length,aA,ay=az.start-az._start,aw=az.end?(az.end-(az._end||ad.defaultEventEnd(az))):0;for(ax=0;ax<av;ax++){aA=T[ax];if(aA._id==az._id&&aA!=az){aA.start=new Date(+aA.start+ay);if(az.end){if(aA.end){aA.end=new Date(+aA.end+aw)}else{aA.end=new Date(+ad.defaultEventEnd(aA)+aw)}}else{aA.end=null}aA.title=az.title;aA.url=az.url;aA.allDay=az.allDay;aA.className=az.className;aA.editable=az.editable;x(aA,Q)}}x(az,Q);W()},renderEvent:function(aw,av){x(aw,Q);if(!aw.source){if(av){(aw.source=O[0]).push(aw)}T.push(aw)}W()},removeEvents:function(aw){if(!aw){T=[];for(var av=0;av<O.length;av++){if(typeof O[av]=="object"){O[av]=[]}}}else{if(!y.isFunction(aw)){var ax=aw+"";aw=function(ay){return ay._id==ax}}T=y.grep(T,aw,true);for(var av=0;av<O.length;av++){if(typeof O[av]=="object"){O[av]=y.grep(O[av],aw,true)}}}W()},clientEvents:function(av){if(y.isFunction(av)){return y.grep(T,av)}else{if(av){av+="";return y.grep(T,function(aw){return aw._id==av})}}return T},rerenderEvents:function(){ad.rerenderEvents()},addEventSource:function(av){O.push(av);X(av,function(){W()})},removeEventSource:function(av){O=y.grep(O,function(aw){return aw!=av});T=y.grep(T,function(aw){return aw.source!=av});W()},refetchEvents:function(){ac(W)}};y.data(this,"fullCalendar",ap);var al,ag=Q.header;if(ag){al=y("<table class='fc-header'/>").append(y("<tr/>").append(y("<td class='fc-header-left'/>").append(aa(ag.left))).append(y("<td class='fc-header-center'/>").append(aa(ag.center))).append(y("<td class='fc-header-right'/>").append(aa(ag.right)))).prependTo(U)}function aa(av){if(av){var aw=y("<tr/>");y.each(av.split(" "),function(ay){if(ay>0){aw.append("<td><span class='fc-header-space'/></td>")}var ax;y.each(this.split(","),function(aB){var aA=this,aE=this.replace(/^(basic|agenda)/,"").toLowerCase();if(aA=="title"){aw.append("<td><h2 class='fc-header-title'/></td>");if(ax){ax.addClass(N+"-corner-right")}ax=null}else{var az;if(ap[aE]){az=ap[aE]}else{if(c[aA]){az=function(){au(aA)}}}if(az){if(ax){ax.addClass(N+"-no-right")}var aC,aD=Q.theme?Q.buttonIcons[aE]:null,aF=Q.buttonText[aE];if(aD){aC=y("<div class='fc-button-"+aA+" ui-state-default'><a><span class='ui-icon ui-icon-"+aD+"'/></a></div>")}else{if(aF){aC=y("<div class='fc-button-"+aA+" "+N+"-state-default'><a><span>"+aF+"</span></a></div>")}}if(aC){aC.mousedown(function(){aC.addClass(N+"-state-down")}).mouseup(function(){aC.removeClass(N+"-state-down")}).hover(function(){aC.addClass(N+"-state-hover")},function(){aC.removeClass(N+"-state-hover").removeClass(N+"-state-down")}).appendTo(y("<td/>").appendTo(aw));if(ap[aE]){aC.click(ap[aE])}else{if(c[aA]){aC.click(function(){au(aA)})}}if(ax){ax.addClass(N+"-no-right")}else{aC.addClass(N+"-corner-left")}ax=aC}}}});if(ax){ax.addClass(N+"-corner-right")}});return y("<table/>").append(aw)}}var ao,ae=false,S=0;y(window).resize(function(){if(!ae&&ad.date){var av=++S;setTimeout(function(){if(av==S){var aw=U.width();if(aw!=ao){ao=aw;ad.updateSize();ad.rerenderEvents(true);ah(ad);ad.trigger("windowResize",af)}}},200)}});au(Q.defaultView);ao=U.width()});return this};var G=0;function x(O,N){O._id=O._id||(O.id==j?"_fc"+G++:O.id+"");if(O.date){if(!O.start){O.start=O.date}delete O.date}O._start=H(O.start=d(O.start));O.end=d(O.end);if(O.end&&O.end<O.start){O.end=null}O._end=O.end?H(O.end):null;if(O.allDay==j){O.allDay=N.allDayDefault}}E({weekMode:"fixed"});c.month=function(O,N){return new z(O,N,{render:function(P,T,Q){if(T){l(P,T);P.setDate(1)}var S=this.start=H(P,true);S.setDate(1);this.title=q(S,v(H(this.end=l(H(S),1)),-1),f(N.titleFormat,"month"),N);v(this.visStart=H(S),-((S.getDay()-N.firstDay+7)%7));v(this.visEnd=H(this.end),(7-this.visEnd.getDay()+N.firstDay)%7);var R=Math.round((this.visEnd-this.visStart)/(J*7));if(N.weekMode=="fixed"){v(this.visEnd,(6-R)*7);R=6}this.renderGrid(R,7,f(N.columnFormat,"month"),true,Q)}})};c.basicWeek=function(O,N){return new z(O,N,{render:function(P,R,Q){if(R){v(P,R*7)}this.title=q(this.start=this.visStart=v(H(P),-((P.getDay()-N.firstDay+7)%7)),v(H(this.end=this.visEnd=v(H(this.start),7)),-1),f(N.titleFormat,"week"),N);this.renderGrid(1,7,f(N.columnFormat,"week"),false,Q)}})};c.basicDay=function(O,N){return new z(O,N,{render:function(P,R,Q){if(R){v(P,R)}this.title=F(P,f(N.titleFormat,"day"),N);this.start=this.visStart=H(P,true);this.end=this.visEnd=v(H(this.start),1);this.renderGrid(1,1,f(N.columnFormat,"day"),false,Q)}})};var o,r,t,B,n;function z(Q,T,ak){var R,aa,V,ae,ad,W,ag,al,ai,O,X,ab=y.extend(this,i,ak,{renderGrid:af,renderEvents:S,rerenderEvents:aj,updateSize:ah,defaultEventEnd:function(am){return H(am.start)},visEventEnd:function(an){if(an.end){var am=H(an.end);return(an.allDay||am.getHours()||am.getMinutes())?v(am,1):am}else{return v(H(an.start),1)}}});ab.init(Q,T);Q.addClass("fc-grid").css("position","relative");if(Q.disableSelection){Q.disableSelection()}function af(am,at,ap,aw,av){W=am;ag=at;var aq=ab.start.getMonth(),au=s(new Date()),az,ao,an,ar=H(ab.visStart);R=T.theme?"ui":"fc";aa=T.firstDay;if(V=T.isRTL){ae=-1;ad=ag-1}else{ae=1;ad=0}if(!O){var ay=y("<table/>").appendTo(Q);az="<thead><tr>";for(ao=0;ao<ag;ao++){az+="<th class='fc-"+K[ar.getDay()]+" "+R+"-state-default"+(ao==ad?" fc-leftmost":"")+"'>"+F(ar,ap,T)+"</th>";v(ar,1)}ai=y(az+"</tr></thead>").appendTo(ay);az="<tbody>";ar=H(ab.visStart);for(ao=0;ao<W;ao++){az+="<tr class='fc-week"+ao+"'>";for(an=0;an<ag;an++){az+="<td class='fc-"+K[ar.getDay()]+" "+R+"-state-default fc-day"+(ao*ag+an)+(an==ad?" fc-leftmost":"")+(W>1&&ar.getMonth()!=aq?" fc-other-month":"")+(+ar==+au?" fc-today "+R+"-state-highlight":" fc-not-today")+"'>"+(aw?"<div class='fc-day-number'>"+ar.getDate()+"</div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";v(ar,1)}az+="</tr>"}O=y(az+"</tbody>").appendTo(ay);O.find("td").click(N)}else{ab.clearEvents();var ax=O.find("tr").length;if(W<ax){O.find("tr:gt("+(W-1)+")").remove()}else{if(W>ax){az="";for(ao=ax;ao<W;ao++){az+="<tr class='fc-week"+ao+"'>";for(an=0;an<ag;an++){az+="<td class='fc-"+K[ar.getDay()]+" "+R+"-state-default fc-new fc-day"+(ao*ag+an)+(an==ad?" fc-leftmost":"")+"'>"+(aw?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div>&nbsp;</div></div></td>";v(ar,1)}az+="</tr>"}O.append(az)}}O.find("td.fc-new").removeClass("fc-new").click(N);ar=H(ab.visStart);O.find("td").each(function(){var aA=y(this);if(W>1){if(ar.getMonth()==aq){aA.removeClass("fc-other-month")}else{aA.addClass("fc-other-month")}}if(+ar==+au){aA.removeClass("fc-not-today").addClass("fc-today").addClass(R+"-state-highlight")}else{aA.addClass("fc-not-today").removeClass("fc-today").removeClass(R+"-state-highlight")}aA.find("div.fc-day-number").text(ar.getDate());v(ar,1)});if(W==1){ar=H(ab.visStart);ai.find("th").each(function(){y(this).text(F(ar,ap,T));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+K[ar.getDay()]);v(ar,1)});ar=H(ab.visStart);O.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+K[ar.getDay()]);v(ar,1)})}}ah();av(S)}function N(){var am=v(H(ab.visStart),parseInt(this.className.match(/fc\-day(\d+)/)[1]));ab.trigger("dayClick",this,am)}function ah(){var au=Math.round(Q.width()/T.aspectRatio),am=O.find("tr td:first-child"),ar=au-ai.height(),ap,ao;if(T.weekMode=="variable"){ap=ao=Math.floor(ar/(W==1?2:6))}else{ap=Math.floor(ar/W);ao=ar-ap*(W-1)}if(o==j){var at=O.find("tr:first"),an=at.find("td:first"),av=at.position().top,aq=an.position().top;o=aq<0;r=av!=aq;t=O.position().top!=av}if(B==j){an.height(ap);B=ap!=an.height()}if(B){am.slice(0,-1).height(ap);am.slice(-1).height(ao)}else{e(am.slice(0,-1),ap);e(am.slice(-1),ao)}L(ai.find("th").slice(0,-1),al=Math.floor(Q.width()/ag))}function S(am){ab.reportEvents(am);U(X=Z(am))}function aj(am){ab.clearEvents();if(am){U(X)}else{S(ab.cachedEvents)}}function Z(an){var aq=H(ab.visStart);var ao=v(H(aq),ag);var ap=[];for(var am=0;am<W;am++){ap.push(C(ab.sliceSegs(an,aq,ao)));v(aq,7);v(ao,7)}return ap}function U(az){var aE,aG=az.length,aq,ao,at,aJ,ax,ar,aC,ay,aI,aB,aH,aD,aw,am,aA,av,au,aF,an,ap;for(aE=0;aE<aG;aE++){aq=az[aE];ao=O.find("tr:eq("+aE+")");at=ao.find("td:first");aJ=at.find("div.fc-day-content div").css("position","relative");ax=aJ.position().top;if(o){ax-=at.position().top}if(r){ax+=ao.position().top}if(t){ax+=O.position().top}ar=0;for(aC=0;aC<aq.length;aC++){ay=aq[aC];aI=0;for(aB=0;aB<ay.length;aB++){aH=ay[aB];aD=aH.event;aw=aD.className;if(typeof aw=="object"){aw=aw.slice(0)}else{if(typeof aw=="string"){aw=aw.split(" ")}else{aw=[]}}aw.push("fc-event","fc-event-hori");am=aH.isStart?ao.find("td:eq("+((aH.start.getDay()-aa+ag)%ag)+") div.fc-day-content div"):O;aA=aH.isEnd?ao.find("td:eq("+((aH.end.getDay()-aa+ag-1)%ag)+") div.fc-day-content div"):O;if(V){av=aA.position().left;au=am.position().left+am.width();if(aH.isStart){aw.push("fc-corner-right")}if(aH.isEnd){aw.push("fc-corner-left")}}else{av=am.position().left;au=aA.position().left+aA.width();if(aH.isStart){aw.push("fc-corner-left")}if(aH.isEnd){aw.push("fc-corner-right")}}aF=y("<div class='"+aw.join(" ")+"'/>").append(an=y("<a/>").append(aD.allDay||!aH.isStart?null:y("<span class='fc-event-time'/>").html(q(aD.start,aD.end,T.timeFormat,T))).append(y("<span class='fc-event-title'/>").text(aD.title)));if(aD.url){an.attr("href",aD.url)}ap=ab.trigger("eventRender",aD,aD,aF);if(ap!==false){if(ap&&typeof ap!="boolean"){aF=y(ap)}aF.css({position:"absolute",top:ax,left:av+(n||0),zIndex:2}).appendTo(Q);L(aF,au-av,true);if(V&&n==j){n=av-aF.position().left;if(n){aF.css("left",av+n)}}P(aD,aF);if(aD.editable||aD.editable==j&&T.editable){ac(aD,aF);if(aH.isEnd){Y(aD,aF)}}ab.reportEventElement(aD,aF);aI=Math.max(aI,aF.outerHeight(true))}}ar+=aI;ax+=aI}aJ.height(ar)}}function P(an,am){am.click(function(ao){if(!am.hasClass("ui-draggable-dragging")){return ab.trigger("eventClick",this,an,ao)}}).hover(function(ao){ab.trigger("eventMouseover",this,an,ao)},function(ao){ab.trigger("eventMouseout",this,an,ao)})}function ac(ao,an){if(!T.disableDragging&&an.draggable){var am;an.draggable({zIndex:3,delay:50,opacity:T.dragOpacity,revertDuration:T.dragRevertDuration,start:function(aq,ar){am=new b(function(at){an.draggable("option","revert",!at||!at.rowDelta&&!at.colDelta);if(at){ab.showOverlay(at)}else{ab.hideOverlay()}});O.find("tr").each(function(){am.row(this,t)});var ap=O.find("tr:first td");if(V){ap=y(ap.get().reverse())}ap.each(function(){am.col(this)});ab.hideEvents(ao,an);ab.trigger("eventDragStart",an,ao,aq,ar);am.mouse(aq.pageX,aq.pageY)},drag:function(ap){am.mouse(ap.pageX,ap.pageY)},stop:function(ar,at){ab.hideOverlay();ab.trigger("eventDragStop",an,ao,ar,at);var ap=am.cell;if(!ap||!ap.rowDelta&&!ap.colDelta){ab.showEvents(ao,an)}else{var aq=ap.rowDelta*7+ap.colDelta*ae;ab.moveEvent(ao,aq);ab.trigger("eventDrop",this,ao,aq,0,function(){ab.moveEvent(ao,-aq);aj()},ar,at);an.find("a").removeAttr("href");aj()}}})}}function Y(an,am){if(!T.disableResizing&&am.resizable){am.resizable({handles:V?"w":"e",grid:al,minWidth:al/2,containment:Q,start:function(ao,ap){am.css("z-index",3);ab.hideEvents(an,am);ab.trigger("eventResizeStart",this,an,ao,ap)},stop:function(ap,aq){ab.trigger("eventResizeStop",this,an,ap,aq);var ao=Math.round((am.width()-aq.originalSize.width)/al);if(ao){ab.resizeEvent(an,ao);ab.trigger("eventResize",this,an,ao,0,function(){ab.resizeEvent(an,-ao);aj()},ap,aq);aj()}else{ab.showEvents(an,am)}am.css("z-index",2)}})}}}var i={init:function(O,N){this.element=O;this.options=N;this.cachedEvents=[];this.eventsByID={};this.eventElements=[];this.eventElementsByID={}},trigger:function(N,O){if(this.options[N]){return this.options[N].apply(O||this,Array.prototype.slice.call(arguments,2).concat([this]))}},eventEnd:function(N){return N.end||this.defaultEventEnd(N)},reportEvents:function(Q){var P,N=Q.length,R,O=this.eventsByID={},S=this.cachedEvents=[];for(P=0;P<N;P++){R=Q[P];if(O[R._id]){O[R._id].push(R)}else{O[R._id]=[R]}S.push(R)}},reportEventElement:function(O,N){this.eventElements.push(N);var P=this.eventElementsByID;if(P[O._id]){P[O._id].push(N)}else{P[O._id]=[N]}},clearEvents:function(){y.each(this.eventElements,function(){this.remove()});this.eventElements=[];this.eventElementsByID={}},showEvents:function(O,N){this._eee(O,N,"show")},hideEvents:function(O,N){this._eee(O,N,"hide")},_eee:function(Q,P,S){var R=this.eventElementsByID[Q._id],O,N=R.length;for(O=0;O<N;O++){if(R[O]!=P){R[O][S]()}}},moveEvent:function(R,T,Q){Q=Q||0;var P=this.eventsByID[R._id],O,N=P.length,S;for(O=0;O<N;O++){S=P[O];S.allDay=R.allDay;k(v(S.start,T,true),Q);if(S.end){S.end=k(v(S.end,T,true),Q)}x(S,this.options)}this.eventsChanged=true},resizeEvent:function(R,T,Q){Q=Q||0;var P=this.eventsByID[R._id],O,N=P.length,S;for(O=0;O<N;O++){S=P[O];S.end=k(v(this.eventEnd(S),T,true),Q);x(S,this.options)}this.eventsChanged=true},showOverlay:function(N){if(!this.dayOverlay){this.dayOverlay=y("<div class='fc-cell-overlay' style='position:absolute;z-index:1;display:none'/>").appendTo(this.element)}var O=this.element.offset();this.dayOverlay.css({top:N.top-O.top,left:N.left-O.left,width:N.width,height:N.height}).show()},hideOverlay:function(){if(this.dayOverlay){this.dayOverlay.hide()}},sliceSegs:function(Y,P,S){var Q=[],T,V=Y.length,O,W,U,X,Z,N,R;for(T=0;T<V;T++){O=Y[T];W=O.start;U=this.visEventEnd(O);if(U>P&&W<S){if(W<P){X=H(P);N=false}else{X=W;N=true}if(U>S){Z=H(S);R=false}else{Z=U;R=true}Q.push({event:O,start:X,end:Z,isStart:N,isEnd:R,msLength:Z-X})}}return Q.sort(w)}};function C(P){var T=[],S,N=P.length,O,R,U,Q;for(S=0;S<N;S++){O=P[S];R=0;while(true){U=false;if(T[R]){for(Q=0;Q<T[R].length;Q++){if(u(T[R][Q],O)){U=true;break}}}if(U){R++}else{break}}if(T[R]){T[R].push(O)}else{T[R]=[O]}}return T}function w(O,N){return(N.msLength-O.msLength)*100+(O.event.start-N.event.start)}function u(O,N){return O.end>N.start&&O.start<N.end}var J=86400000,m=3600000;function M(O,P,N){O.setFullYear(O.getFullYear()+P);if(!N){s(O)}return O}function l(Q,R,P){var N=Q.getMonth()+R,O=H(Q);O.setDate(1);O.setMonth(N);Q.setMonth(N);if(!P){s(Q)}while(Q.getMonth()!=O.getMonth()){Q.setDate(Q.getDate()+(Q<O?1:-1))}return Q}function v(Q,R,P){var N=Q.getDate()+R,O=H(Q);O.setHours(12);O.setDate(N);Q.setDate(N);if(!P){s(Q)}while(Q.getDate()!=O.getDate()){Q.setTime(+Q+(Q<O?1:-1)*m)}return Q}function k(N,O){N.setMinutes(N.getMinutes()+O);return N}function s(N){N.setHours(0);N.setMinutes(0);N.setSeconds(0);N.setMilliseconds(0);return N}function H(N,O){if(O){return s(new Date(+N))}return new Date(+N)}var d=D.parseDate=function(N){if(typeof N=="object"){return N}if(typeof N=="number"){return new Date(N*1000)}if(typeof N=="string"){if(N.match(/^\d+$/)){return new Date(parseInt(N)*1000)}return g(N,true)||Date.parse(N)||null}return null};var g=D.parseISO8601=function(P,N){var R=P.match(h);if(!R){return null}var Q=0;var O=new Date(R[1],0,1);if(R[3]){O.setMonth(R[3]-1)}if(R[5]){O.setDate(R[5])}if(R[7]){O.setHours(R[7])}if(R[8]){O.setMinutes(R[8])}if(R[10]){O.setSeconds(R[10])}if(R[12]){O.setMilliseconds(Number("0."+R[12])*1000)}if(!N){if(R[14]){Q=(Number(R[16])*60)+Number(R[17]);Q*=((R[15]=="-")?1:-1)}Q-=O.getTimezoneOffset()}return new Date(Number(O)+(Q*60*1000))};var h=new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?");var F=D.formatDate=function(O,P,N){return q(O,null,P,N)};var q=D.formatDates=function(Z,Y,X,aa){aa=aa||A;var O=Z,Q=Y,R,S=X.length,U,P,W,T="";for(R=0;R<S;R++){U=X.charAt(R);if(U=="'"){for(P=R+1;P<S;P++){if(X.charAt(P)=="'"){if(O){if(P==R+1){T+="'"}else{T+=X.substring(R+1,P)}R=P}break}}}else{if(U=="("){for(P=R+1;P<S;P++){if(X.charAt(P)==")"){var N=F(O,X.substring(R+1,P),aa);if(parseInt(N.replace(/\D/,""))){T+=N}R=P;break}}}else{if(U=="["){for(P=R+1;P<S;P++){if(X.charAt(P)=="]"){var V=X.substring(R+1,P);var N=F(O,V,aa);if(N!=F(Q,V,aa)){T+=N}R=P;break}}}else{if(U=="{"){O=Y;Q=Z}else{if(U=="}"){O=Z;Q=Y}else{for(P=S;P>R;P--){if(W=p[X.substring(R,P)]){if(O){T+=W(O,aa)}R=P-1;break}}if(P==R){if(O){T+=U}}}}}}}}return T};var p={s:function(N){return N.getSeconds()},ss:function(N){return I(N.getSeconds())},m:function(N){return N.getMinutes()},mm:function(N){return I(N.getMinutes())},h:function(N){return N.getHours()%12||12},hh:function(N){return I(N.getHours()%12||12)},H:function(N){return N.getHours()},HH:function(N){return I(N.getHours())},d:function(N){return N.getDate()},dd:function(N){return I(N.getDate())},ddd:function(O,N){return N.dayNamesShort[O.getDay()]},dddd:function(O,N){return N.dayNames[O.getDay()]},M:function(N){return N.getMonth()+1},MM:function(N){return I(N.getMonth()+1)},MMM:function(O,N){return N.monthNamesShort[O.getMonth()]},MMMM:function(O,N){return N.monthNames[O.getMonth()]},yy:function(N){return(N.getFullYear()+"").substring(2)},yyyy:function(N){return N.getFullYear()},t:function(N){return N.getHours()<12?"a":"p"},tt:function(N){return N.getHours()<12?"am":"pm"},T:function(N){return N.getHours()<12?"A":"P"},TT:function(N){return N.getHours()<12?"AM":"PM"},u:function(N){return F(N,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(O){var N=O.getDate();if(N>10&&N<20){return"th"}return["st","nd","rd"][N%10-1]||"th"}};function L(O,P,N){O.each(function(){var R=y(this);var Q=P-((parseInt(R.css("border-left-width"))||0)+(parseInt(R.css("padding-left"))||0)+(parseInt(R.css("padding-right"))||0)+(parseInt(R.css("border-right-width"))||0));if(N){Q-=(parseInt(R.css("margin-left"))||0)+(parseInt(R.css("margin-right"))||0)}R.width(Q)})}function e(P,N,O){P.each(function(){var R=y(this);var Q=N-((parseInt(R.css("border-top-width"))||0)+(parseInt(R.css("padding-top"))||0)+(parseInt(R.css("padding-bottom"))||0)+(parseInt(R.css("border-bottom-width"))||0));if(O){Q-=(parseInt(R.css("margin-top"))||0)+(parseInt(R.css("margin-bottom"))||0)}R.height(Q)})}function b(P){var U=[],N=[],T,S,Q,R,V,O;this.row=function(X,W){T=y(X);U.push(T.offset().top+(W?T.parent().position().top:0))};this.col=function(W){S=y(W);N.push(S.offset().left)};this.mouse=function(W,Z){if(Q==j){U.push(U[U.length-1]+T.outerHeight());N.push(N[N.length-1]+S.outerWidth());V=O=-1}var X,Y;for(X=0;X<U.length&&Z>=U[X];X++){}for(Y=0;Y<N.length&&W>=N[Y];Y++){}X=X>=U.length?-1:X-1;Y=Y>=N.length?-1:Y-1;if(X!=V||Y!=O){V=X;O=Y;if(X==-1||Y==-1){this.cell=null}else{if(Q==j){Q=X;R=Y}this.cell={row:X,col:Y,top:U[X],left:N[Y],width:N[Y+1]-N[Y],height:U[X+1]-U[X],isOrig:X==Q&&Y==R,rowDelta:X-Q,colDelta:Y-R}}P(this.cell)}}}var j,K=["sun","mon","tue","wed","thu","fri","sat"];function I(N){return(N<10?"0":"")+N}function f(N,O){return typeof N=="string"?N:N[O]}})(jQuery);